(this.webpackJsonpannuaire=this.webpackJsonpannuaire||[]).push([[0],{17:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(11),a=n.n(s),i=(n(17),n(6)),l=n(2),o=n(5),u=n(0),j=function(e){var t=Object(l.f)(),n=Object(r.useState)(e.currentSearch||""),c=Object(o.a)(n,2),s=c[0],a=c[1],i=e.loadindState||!1;return Object(u.jsxs)("form",{className:"row",onSubmit:function(e){e.preventDefault(),t("/resultats/".concat(s,"/1"))},children:[Object(u.jsx)("div",{className:"col-sm-12 col-md-9 my-1 ps-0",children:Object(u.jsx)("input",{type:"search",className:"form-control",id:"searchText",placeholder:"Entrez un nom, un siret ou un siren",value:s,onChange:function(e){a(e.target.value)}})}),Object(u.jsxs)("div",{className:"col-sm-12 col-md-3 my-1 pe-0",children:[i&&Object(u.jsxs)("button",{className:"btn btn-primary w-100",disabled:!0,type:"button",children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(u.jsx)("span",{className:"d-sm-none",children:"Recherche en cours"})]}),!i&&Object(u.jsx)("button",{className:"btn btn-primary w-100",type:"button",onClick:function(){return t("/resultats/".concat(s,"/1"))},children:"Lancer"})]})]})},d=function(){return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("h1",{className:"text-center my-4",children:"Annuaire des entreprises en France"}),Object(u.jsx)(j,{}),Object(u.jsx)("p",{className:"text-primary text-center fs-4 my-3",children:"Retrouvez toutes les informations publiques concernant les entreprises fran\xe7aises"})]})},b=n(7),h=n.n(b),m=n(3),x=n(8),O=function(e){for(var t=Object(l.f)(),n=e.currentPage,r=e.totalPages,c=e.currentSearch,s=[],a=function(e){r>10&&(r=10);var a=Object(u.jsx)("li",{className:"page-item ".concat(e-n===0?"active":""),children:Object(u.jsx)("button",{className:"page-link",onClick:function(){return t("/resultats/".concat(c,"/").concat(e))},children:e})},"page-".concat(e));s.push(a)},i=1;i<=r;i++)a(i);return Object(u.jsx)("nav",{className:"row my-3",children:Object(u.jsxs)("ul",{className:"pagination flex-wrap justify-content-center",children:[Object(u.jsx)("li",{className:"page-item ".concat(n-1===0?"disabled":""),children:Object(u.jsx)("button",{className:"page-link",onClick:function(){return t("/resultats/".concat(c,"/").concat(1*n-1))},children:"Pr\xe9c\xe9dent"})}),s,Object(u.jsx)("li",{className:"page-item ".concat(n-r===0?"disabled":""),children:Object(u.jsx)("button",{className:"page-link",onClick:function(){return t("/resultats/".concat(c,"/").concat(1*n+1))},children:"Suivant"})})]})})},p=n(12),f=function(e){p.a.from(e,.7,{y:100,delay:.3,ease:"back",opacity:0,stagger:{amount:.8}})},g=function(e){var t=Object(r.useRef)(),n=Object(l.f)(),c=e.nom,s=e.activitePrincipale,a=e.siren;return Object(r.useEffect)((function(){return f(t.current)})),Object(u.jsx)("div",{ref:t,className:"card border-0 col-sm-12 col-md-4",children:Object(u.jsxs)("div",{className:"card-body rounded-2 bg-light custom-shadow  my-2 mx-2",children:[Object(u.jsx)("h5",{className:"card-title",children:c}),Object(u.jsx)("p",{className:"card-text",children:s}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return n("/entreprise/".concat(a))},children:"Plus de d\xe9tails"})]})})},v=function(){return Object(u.jsxs)("div",{className:"col-12 my-5 d-flex justify-content-center align-items-center",children:[Object(u.jsx)("div",{className:"spinner-border text-primary",role:"status"}),Object(u.jsx)("span",{className:"sr-only",children:" \xa0 Chargement..."})]})},N=function(){var e=Object(r.useState)({loading:!0,error:!1,result:null,nothingFound:!1}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(l.g)(),a=s.searchText,i=s.currentPage;return Object(r.useEffect)((function(){Object(x.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1})})),e.prev=1,e.next=4,fetch("https://entreprise.data.gouv.fr/api/sirene/v1/full_text/".concat(a,"?per_page=12&page=").concat(i));case 4:if(!(t=e.sent).ok||404===t.status){e.next=10;break}return e.next=8,t.json();case 8:n=e.sent,c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:!1,result:n,nothingFound:!1})}));case 10:if(404!==t.status){e.next=16;break}return e.next=13,t.json();case 13:r=e.sent,console.error(r),c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:!1,result:null,nothingFound:!0})}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{loading:!1,error:!0,result:e.t0,nothingFound:!1})}));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))()}),[i,a]),Object(u.jsxs)("div",{className:"row mt-2",children:[Object(u.jsx)("h1",{className:"text-center my-4",children:"Annuaire des entreprises en France"}),Object(u.jsx)(j,{currentSearch:a,loadindState:n.loading}),Object(u.jsxs)("div",{className:"row",children:[n.error&&Object(u.jsx)("div",{className:"col-12 py-3",children:Object(u.jsx)("p",{className:"text-danger",children:"Oops, il y a eu une erreur. Essayez de relancer la recherche ou v\xe9rifiez votre connexion"})}),n.nothingFound&&Object(u.jsxs)("p",{className:"text-center py-3",children:["\ud83e\udd14 Nous n'avons rien trouv\xe9 qui ressemble \xe0 \"",a,"\". V\xe9rifiez l'orthographe ou changez de recherche."]}),n.loading&&Object(u.jsx)(v,{}),null!=n.result&&!n.loading&&!n.error&&Object(u.jsxs)("div",{className:"container mt-3",children:[Object(u.jsxs)("h2",{children:[n.result.total_results," ",n.result.total_results>1?"r\xe9sultats trouv\xe9s":"r\xe9sultat touv\xe9",' pour "',a,'"']}),n.result.total_results>1e3&&Object(u.jsx)("p",{className:"alert-warning p-1 rounded-1",children:"\ud83d\ude33 \xc7a fait beaucoup l\xe0. Essayez d'affiner votre recherche pour un r\xe9sultat pr\xe9cis."}),Object(u.jsx)("div",{className:"row",children:n.result.etablissement.map((function(e){return Object(u.jsx)(g,{nom:e.nom_raison_sociale,activitePrincipale:e.libelle_activite_principale,siren:e.siren},e.id)}))}),n.result.total_pages>=1&&Object(u.jsx)(O,{totalPages:n.result.total_pages,currentSearch:a,currentPage:i})]})]})]})},y=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],w=function(){var e=Object(r.useState)({loading:!0,error:!1,result:null,nothingFound:!1}),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(l.g)().searchSiren;return Object(r.useEffect)((function(){Object(x.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:!1})})),e.prev=1,e.next=4,fetch("https://entreprise.data.gouv.fr/api/sirene/v1/siren/".concat(s));case 4:if(!(t=e.sent).ok||404===t.status){e.next=10;break}return e.next=8,t.json();case 8:n=e.sent,c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:!1,result:n,nothingFound:!1})}));case 10:if(404!==t.status){e.next=16;break}return e.next=13,t.json();case 13:r=e.sent,console.error(r),c((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:!1,result:null,nothingFound:!0})}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{loading:!1,error:!0,result:e.t0,nothingFound:!1})}));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))()}),[s]),Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h1",{className:"text-center my-4",children:"Annuaire des entreprises en France"}),Object(u.jsx)(j,{currentSearch:s,loadindState:n.loading}),!n.error&&null!=n.result&&Object(u.jsx)(k,{details:n.result.siege_social}),Object(u.jsxs)("div",{className:"row messages",children:[n.error&&Object(u.jsx)("div",{className:"col-12 py-3",children:Object(u.jsx)("p",{className:"text-danger",children:"Oops, il y a eu une erreur. Essayez de relancer la recherche ou v\xe9rifiez votre connexion"})}),n.nothingFound&&Object(u.jsxs)("p",{className:"text-center py-3",children:["\ud83e\udd14 Nous n'avons rien trouv\xe9 qui ressemble \xe0 \"",s,"\". V\xe9rifiez l'orthographe ou changez de recherche."]}),n.loading&&Object(u.jsx)(v,{})]})]})},k=function(e){var t=Object(r.useRef)(),n=e.details,c=n.siren,s=n.siret,a=n.libelle_activite_principale,i=n.date_creation,l=n.nom_raison_sociale,o=n.libelle_nature_juridique_entreprise,j=n.geo_adresse;return Object(r.useLayoutEffect)((function(){f(t.current)})),Object(u.jsx)("div",{ref:t,className:"item-details mt-3 h-100 bg-light p-3 rounded-3",children:Object(u.jsxs)("div",{className:"titles",children:[Object(u.jsx)("h2",{className:"item-name",children:l}),Object(u.jsx)("p",{className:"item-siren",children:c}),Object(u.jsxs)("p",{className:"item-date",children:[Object(u.jsx)("span",{className:"fw-bold",children:"Date de cr\xe9ation: "}),function(){var e=i.slice(0,4),t=parseInt(i.slice(4,6),10),n=i.slice(6,8);return"".concat(n," ").concat(y[t-1]," ").concat(e)}()]}),Object(u.jsxs)("p",{className:"item-siren",children:[Object(u.jsx)("span",{className:"fw-bold",children:"Siren: "}),c]}),Object(u.jsxs)("p",{className:"item-siret",children:[Object(u.jsx)("span",{className:"fw-bold",children:"Siret: "}),s]}),Object(u.jsxs)("p",{className:"item-statut",children:[Object(u.jsx)("span",{className:"fw-bold",children:"Nature juridique: "}),o]}),Object(u.jsxs)("div",{className:"item-description",children:[Object(u.jsx)("p",{className:"fw-bold",children:"Activit\xe9 principale:"}),Object(u.jsx)("p",{children:a})]}),Object(u.jsxs)("div",{className:"item-adresse",children:[Object(u.jsx)("span",{className:"fw-bold",children:"Si\xe8ge social: "}),j]})]})})},_=function(){return Object(u.jsxs)("div",{className:"row d-flex h-100 align-items-center",style:{padding:"1rem"},children:[Object(u.jsx)("h1",{className:"text-center",children:"Erreur 404, Page non trouv\xe9 "}),Object(u.jsx)("button",{className:"btn btn-primary",children:Object(u.jsx)(i.b,{to:"/",children:"Retour \xe0 la page d'acceuil"})})]})},S=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"container-fluid px-0",children:Object(u.jsxs)("nav",{className:"px-2 navbar navbar-expand-lg navbar-light bg-light justify-content-between",children:[Object(u.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Annuaire d'entreprises"}),Object(u.jsx)("span",{className:"navbar-tex",children:" Toutes les donn\xe9es publics des entreprises en France"})]})}),Object(u.jsx)("main",{className:"container",children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/",element:Object(u.jsx)(d,{})}),Object(u.jsx)(l.a,{path:"resultats/:searchText/:currentPage",element:Object(u.jsx)(N,{})}),Object(u.jsx)(l.a,{path:"entreprise/:searchSiren",element:Object(u.jsx)(w,{})}),Object(u.jsx)(l.a,{path:"*",element:Object(u.jsx)(_,{})})]})})]})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(S,{})})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bc6f72ed.chunk.js.map